---
layout:     post
title:      "栈溢出从入门到秃头"
subtitle:   ""
date:       2019-07-18
author:     "HK"
header-img: "img/post-bg-pwn.jpg"
tags:
    - 入门
    - pwn
---

## 实现栈溢出的条件

1.程序有向栈内写入数据的行为。

2.程序不限制写入数据的长度。

## 函数调用栈

程序运行时内存一段连续的区域，用来保存函数运行是的状态信息，包括函数参数与局部变量等。发生函数调用时，调用函数（caller）的状态被保存在栈内，被调用函数（callee）的状态被压入调用栈的栈顶；在函数调用结束时，栈顶的函数（callee）状态被弹出，栈顶恢复到调用函数（caller）的状态。

函数调用栈在内存中从高地址向低地址生长，所以栈顶对应的内存地址在压栈时变小，退栈时变大。

esp:存储函数调用栈的栈顶地址，在压栈和退栈时发生变化。
ebp:用来存储当前函数状态的基地址，在函数运行时不变，可以用索引确定函数参数或局部变量的位置。
eip:用来存储即将执行的程序指令的地址，cpu依照eip的存储内容读取指令并执行，eip随之指向相邻的下一条指令，如此反复，程序的得以连续执行命令。
